function initializeComboBox(o,e,t,u){jQueryAutocompleteCombobox.create(o,e,t,u)}var jQueryAutocompleteCombobox={enabled:!0,closeNextFrame:!1,originalSelectedValue:"",block:!1,lazyCount:0,lazyListenerLoaded:!1,limit:500,widget:void 0,query:void 0,previousSearchValue:"",lastSearchValue:"",searchCache:[],legacyDisplayOverride:!1,create:function(o,e,t,u){$.widget("ui.combobox",{_create:function(){var i=this,l=this.element.hide(),r=l.children(":selected"),m=r.val()?r.text():"",c=this.input=$('<input placeholder="'+u+'">').insertAfter(l).addClass("uiCombobox").val(m).autocomplete({minLength:0,source:function(o,e){e(null)},open:function(o,e){jQueryAutocompleteCombobox.showCombobox()},select:function(o,e){$("#"+t).val(e.item.VALUE),$("#searchForm").submit()},close:function(o,e){if(jQueryAutocompleteCombobox.tempEnable(),!0===jQueryAutocompleteCombobox.legacyDisplayOverride){if("Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||void 0!==$.browser&&1==$.browser.msie)return jQueryAutocompleteCombobox.showCombobox(),!1;jQueryAutocompleteCombobox.legacyDisplayOverride=!1}return!0===jQueryAutocompleteCombobox.closeNextFrame&&setTimeout(function(){jQueryAutocompleteCombobox.widget.input.autocomplete("widget").is(":visible")||""===$("input.ui-autocomplete-input").val()&&$("input.ui-autocomplete-input").val(jQueryAutocompleteCombobox.originalSelectedValue)},600),!0},search:function(o,e){var t=$(this).val().trim();void 0===o.originalEvent&&""!==jQueryAutocompleteCombobox.previousSearchValue&&""===t||setTimeout(jQueryAutocompleteCombobox.showCombobox,10)}}).addClass("ui-widget ui-widget-content ui-corner-left").on("keyup",function(t,u){var i=t.currentTarget.value.trim();i!==jQueryAutocompleteCombobox.previousSearchValue&&(jQueryAutocompleteCombobox.lazyCount=0,jQueryAutocompleteCombobox.resetSearchCache(),jQueryAutocompleteCombobox.previousSearchValue=i,jQueryAutocompleteCombobox.lazyLoad(o,e),setTimeout(function(){i===$("input.ui-autocomplete-input").val().trim()&&i!==jQueryAutocompleteCombobox.lastSearchValue&&(jQueryAutocompleteCombobox.lazyCount=0,jQueryAutocompleteCombobox.resetSearchCache(),jQueryAutocompleteCombobox.previousSearchValue=i,jQueryAutocompleteCombobox.lazyLoad(o,e))},1e3))}).on("click",function(o){this.value=""});c.data("uiAutocomplete")._renderItem=function(o,e){var t=e.LABEL.toString().replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(jQueryAutocompleteCombobox.previousSearchValue)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return $("<li></li>").data("uiAutocompleteItem",e).append("<a>"+t+"</a>").appendTo(o)},this.button=$("<button type='button'>&nbsp;</button>").attr("tabIndex",-1).attr("id","showAllBtn").attr("title","Show All Items").insertAfter(c).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){jQueryAutocompleteCombobox.enabled&&(jQueryAutocompleteCombobox.originalSelectedValue===$("input.ui-autocomplete-input").val()&&""!==jQueryAutocompleteCombobox.originalSelectedValue&&$("input.ui-autocomplete-input").val(""),jQueryAutocompleteCombobox.tempDisable(),c.autocomplete("widget").is(":visible")?c.autocomplete("close"):!0===jQueryAutocompleteCombobox.lazyListenerLoaded?jQueryAutocompleteCombobox.showCombobox():jQueryAutocompleteCombobox.lazyLoad(o,e))}),jQueryAutocompleteCombobox.widget=i,jQueryAutocompleteCombobox.query=jQueryAutocompleteCombobox.widget.input.autocomplete("widget"),("Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||void 0!==$.browser&&1==$.browser.msie)&&jQueryAutocompleteCombobox.startClickListener(),""===jQueryAutocompleteCombobox.originalSelectedValue&&(jQueryAutocompleteCombobox.originalSelectedValue=$("input.ui-autocomplete-input").val().trim())},setValue:function(o){var e=this.input;$("option",this.element).each(function(){if($(this).val()==o)return this.selected=!0,e.val(this.text),!1})},destroy:function(){this.input.remove(),this.button.remove(),this.element.show(),$.Widget.prototype.destroy.call(this)}})},lazyLoad:function(o,e){if(!0!==jQueryAutocompleteCombobox.block&&-1!==jQueryAutocompleteCombobox.lazyCount){jQueryAutocompleteCombobox.block=!0;var t=jQueryAutocompleteCombobox.lazyCount*jQueryAutocompleteCombobox.limit,u=jQueryAutocompleteCombobox.previousSearchValue;$.ajax({url:o,data:{method:e,term:u,limit:jQueryAutocompleteCombobox.limit,start:t}}).done(function(t){jQueryAutocompleteCombobox.block=!1,u===jQueryAutocompleteCombobox.previousSearchValue&&($.each(t,function(o,e){jQueryAutocompleteCombobox.searchCache.push(e)}),jQueryAutocompleteCombobox.widget.input.autocomplete("option","source",null),jQueryAutocompleteCombobox.widget.input.autocomplete("option","source",jQueryAutocompleteCombobox.searchCache),jQueryAutocompleteCombobox.refreshCombobox(u),jQueryAutocompleteCombobox.lazyCount+=1,0===t.length?jQueryAutocompleteCombobox.lazyCount=-1:t.length<jQueryAutocompleteCombobox.limit&&(jQueryAutocompleteCombobox.lazyCount=-1),!1===jQueryAutocompleteCombobox.lazyListenerLoaded&&(jQueryAutocompleteCombobox.lazyLoadListener(o,e),jQueryAutocompleteCombobox.lazyListenerLoaded=!0))})}},lazyLoadListener:function(o,e){$(jQueryAutocompleteCombobox.query).scroll(function(){var t=parseInt($(this).scrollTop()),u=parseInt($(this)[0].scrollHeight-$(this)[0].offsetHeight);t>=u&&(jQueryAutocompleteCombobox.legacyDisplayOverride=!0,jQueryAutocompleteCombobox.lazyLoad(o,e))})},resetSearchCache:function(){jQueryAutocompleteCombobox.searchCache=[]},showCombobox:function(){jQueryAutocompleteCombobox.widget.input.autocomplete("widget").is(":visible")||($(jQueryAutocompleteCombobox.widget.input.autocomplete("widget")).show(),$(jQueryAutocompleteCombobox.widget.input).focus())},hideCombobox:function(){jQueryAutocompleteCombobox.widget.input.autocomplete("widget").is(":visible")&&(jQueryAutocompleteCombobox.widget.input.autocomplete("close"),$(jQueryAutocompleteCombobox.widget.input.autocomplete("widget")).hide(),jQueryAutocompleteCombobox.tempEnable())},startClickListener:function(){var o=["showAllBtn","searchForm"];o.push($(jQueryAutocompleteCombobox.query).prop("id")),$("body").click(function(e){jQueryAutocompleteCombobox.widget.input.autocomplete("widget").is(":visible")&&-1===o.indexOf($(e.target).parent().prop("id").trim())&&(jQueryAutocompleteCombobox.closeNextFrame=!0,jQueryAutocompleteCombobox.legacyDisplayOverride=!1,jQueryAutocompleteCombobox.hideCombobox())})},refreshCombobox:function(o){if(o===jQueryAutocompleteCombobox.previousSearchValue){var e=$("input.ui-autocomplete-input").val();jQueryAutocompleteCombobox.lastSearchValue=e,$("input.ui-autocomplete-input").val(""),$(jQueryAutocompleteCombobox.widget).blur(),jQueryAutocompleteCombobox.widget.input.autocomplete("search"),$("input.ui-autocomplete-input").val(e),$(jQueryAutocompleteCombobox.widget.input).focus(),jQueryAutocompleteCombobox.closeNextFrame=!0}},tempDisable:function(){jQueryAutocompleteCombobox.enabled=!1},tempEnable:function(){jQueryAutocompleteCombobox.enabled=!0}};